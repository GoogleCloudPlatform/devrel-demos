# GoDoctor Tool Assessment Report (v0.10.0 Prep)

**Date:** 2026-01-23
**Status:** Analysis

## Executive Summary
This document assesses the current state of the 15+ tools in the `godoctor` suite. The goal is to ensure readiness for version 0.10.0 by identifying feature gaps, documentation mismatches, and structural improvements.

## 1. File Operations

| Tool | Status | Implementation Summary | Suitability | Gaps/Issues |
| :--- | :--- | :--- | :--- | :--- |
| **`file_create`** | 游릭 Ready | Writes content, formats (Go), creates dirs. | High. Essential for scaffolding. | None. |
| **`file_edit`** | 游릭 Ready | Fuzzy match (Levenshtein), Append mode, Auto-format. | High. Robust against LLM typos. | Impact analysis (reverse deps) might be slow on huge repos. |
| **`file_list`** | 游리 Good | Walk dir with depth/limit. | Medium. | **Gap:** Does not respect `.gitignore` (only hardcoded skips). |
| **`file_read`** | 游릭 Ready | Partial read, line numbers, static analysis context. | High. Context-rich. | External type resolution is complex; ensure it doesn't hallucinate context. |
| **`file_outline`** | 游릭 Ready | AST-based stripping of function bodies. | High. Token saver. | None. |

## 2. Go Toolchain

| Tool | Status | Implementation Summary | Suitability | Gaps/Issues |
| :--- | :--- | :--- | :--- | :--- |
| **`go_build`** | 游릭 Ready | `go build` wrapper. | High. Sanity check. | None. |
| **`go_test`** | 游리 Good | `go test` wrapper + coverage. | High. | **Gap:** Returns raw text output. Structured failure parsing would be better for agents. |
| **`go_get`** | 游릭 Ready | `go get` + auto-doc fetch. | High. Hallucination killer. | None. |
| **`go_docs`** | 游릭 Ready | Internal `godoc` lookup. | High. | None. |
| **`go_modernize`** | 游리 Experimental | Wraps `modernize` analyzer + custom fix applier. | Medium. | Custom text edit application is simple; complex overlapping edits might fail. |
| **`go_diff`** | 游 External Dep | Wraps `apidiff`. | High (Specialized). | **Critical:** Requires `apidiff` installed. Tool will fail otherwise. |

## 3. Symbol Operations

| Tool | Status | Implementation Summary | Suitability | Gaps/Issues |
| :--- | :--- | :--- | :--- | :--- |
| **`symbol_inspect`** | 游릭 Ready | Graph-based resolution + Godoc fallback. | High. Ground truth. | None. |
| **`symbol_rename`** | 游 External Dep | Wraps `gopls rename`. | High. | **Critical:** Requires `gopls` installed. Tool will fail otherwise. |

## 4. Agents & Utilities

| Tool | Status | Implementation Summary | Suitability | Gaps/Issues |
| :--- | :--- | :--- | :--- | :--- |
| **`safe_shell`** | 游릭 Ready | Hardened `exec` with blocklist/hints. | High. Safety net. | None. |
| **`code_review`** | 游 Config Heavy | Calls Vertex/Gemini API directly. | High (Expert). | **Issue:** Requires separate API keys/Env vars. Fails if not configured. |

## Recommendations for v0.10.0

### 1. Documentation Updates (`GODOCTOR.md` & Registry)
- **External Dependencies:** Explicitly state that `go_diff` requires `apidiff` and `symbol_rename` requires `gopls` in the tool description/error messages.
- **Environment:** Clarify `code_review` requirements (Google Cloud Project/Location or API Key).

### 2. Feature Refinements
- **`file_list`**: Add `.gitignore` support (if feasible quickly, else document limitation).
- **`go_test`**: No change needed for v0.10.0, but mark for v1.0 improvement (structured output).

### 3. Registry Cleanup
- Ensure all tool descriptions are consistent with the capabilities found in code (already done in previous step, but double-check `go_modernize` "fix" param).

## Conclusion
The suite is solid. The primary risks are external tool dependencies (`gopls`, `apidiff`) and configuration (`code_review`). The "Definition of Done" in our Skills mitigates this by enforcing verification.
